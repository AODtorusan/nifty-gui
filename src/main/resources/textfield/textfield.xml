<?xml version="1.0" encoding="UTF-8"?>
<nifty>

  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <!-- register effects we want to use -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <registerEffect name="colorBarHover" class="de.lessvoid.nifty.effects.hover.ColorBar" />
  <registerEffect name="pulsateHover" class="de.lessvoid.nifty.effects.hover.Pulsate" />
  <registerEffect name="colorBar" class="de.lessvoid.nifty.effects.general.ColorBar" />
  <registerEffect name="pulsate" class="de.lessvoid.nifty.effects.general.Pulsate" />
  <registerEffect name="ImageOverlay" class="de.lessvoid.nifty.effects.general.ImageOverlay" />
  <registerEffect name="ImageOverlayPulsate" class="de.lessvoid.nifty.effects.general.ImageOverlayPulsate" />
  <registerEffect name="hint" class="de.lessvoid.nifty.effects.hover.Hint" />

  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <!-- styles -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <style id="default-textfield-panel">
    <attributes backgroundColor="#555f" childLayout="overlay" height="40px" />
  </style>

  <style id="default-textfield-field">
    <attributes childLayout="center" visibleToMouse="true" childClip="true" />
    <effect>
      <onHover name="colorBarHover" timeType="infinite" color="#7707" post="true"/>
      <onFocus name="pulsate" period="1500" timeType="infinite" startColor="#770f" endColor="#700f" post="true"/>
    </effect>
  </style>
  
  <style id="default-textfield-text">
    <attributes font="verdana-48-regular.fnt" visibleToMouse="false" align="left" />
  </style>

  <style id="default-textfield-cursor-panel">
    <attributes childLayout="absolute" />
  </style>

  <style id="default-textfield-cursor">
    <attributes filename="textfield/cursor-empty.png" />
		<effect>
		  <onActive name="ImageOverlayPulsate" period="300" timeType="infinite" pulsatechildLayout="rectangle" filename="textfield/cursor.png" post="true"/>
		</effect>
  </style>
  
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <!-- textfield control -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <controlDefinition name="textfield" controller="de.lessvoid.nifty.controls.textfield.TextFieldControl" inputMapping="de.lessvoid.nifty.input.mapping.StandardTextField">
    <panel id="textfield-panel" style="default-textfield-panel">
      <panel id="textfield-field" style="default-textfield-field">
        <interact onClick="onClick()" onClickMouseMove="onClickMouseMove()" />
        <text id="textfield-text" style="default-textfield-text" text="">
          <textSelection textColor="#f0ff" />
        </text>
      </panel>
      <panel id="textfield-cursor-panel" style="default-textfield-cursor-panel">
        <image id="textfield-cursor" style="default-textfield-cursor"/>
      </panel>
    </panel>
  </controlDefinition>

  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <!-- start screen -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <screen id="start" controller="de.lessvoid.nifty.examples.textfield.Start">
    <layer id="layer" childLayout="center">
      <panel childLayout="horizontal" valign="center" height="50%" align="center">
        <panel width="50px" />
        <panel backgroundColor="#222f" childLayout="vertical" height="50%" align="center" valign="center">
          <panel childLayout="horizontal">
            <text font="verdana-48-regular.fnt" text="Your Name: " width="200px" align="left" />
            <control id="name" name="textfield" />
          </panel>
          <panel childLayout="horizontal">
            <text font="verdana-48-regular.fnt" text="Your Host: " width="200px" align="left" />
            <control id="ip" name="textfield" />
          </panel>
          <panel width="50px" />
        </panel>
        <panel width="50px" />
      </panel>
    </layer>
  </screen>
</nifty>
