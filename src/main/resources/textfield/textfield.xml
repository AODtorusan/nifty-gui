<?xml version="1.0" encoding="UTF-8"?>
<nifty>

  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <!-- register effects we want to use -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <registerEffect name="colorBarHover" class="de.lessvoid.nifty.effects.hover.ColorBar" />
  <registerEffect name="imageSize" class="de.lessvoid.nifty.effects.general.ImageSize" />
  <registerEffect name="pulsateHover" class="de.lessvoid.nifty.effects.hover.Pulsate" />
  <registerEffect name="colorBar" class="de.lessvoid.nifty.effects.general.ColorBar" />
  <registerEffect name="pulsate" class="de.lessvoid.nifty.effects.general.Pulsate" />
  <registerEffect name="ImageOverlay" class="de.lessvoid.nifty.effects.general.ImageOverlay" />
  <registerEffect name="ImageOverlayPulsate" class="de.lessvoid.nifty.effects.general.ImageOverlayPulsate" />
  <registerEffect name="hint" class="de.lessvoid.nifty.effects.hover.Hint" />
  <registerEffect name="hoverImageOverlay" class="de.lessvoid.nifty.effects.hover.ImageOverlay" />
  <registerEffect name="fade" class="de.lessvoid.nifty.effects.general.Fade" />

  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <!-- styles -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <style id="default-textfield-panel">
    <attributes backgroundColor="#55ff" childLayout="overlay" height="40px" />
  </style>

  <style id="default-textfield-field">
    <attributes childLayout="center" visibleToMouse="true" childClip="true" />
    <effect>
      <onHover name="colorBarHover" timeType="infinite" color="#7707" post="true"/>
      <onFocus name="pulsate" period="1500" timeType="infinite" startColor="#770f" endColor="#700f" post="true"/>
    </effect>
  </style>
  
  <style id="default-textfield-text">
    <attributes font="verdana-48-regular.fnt" visibleToMouse="false" align="left" textHAlign="left" />
  </style>

  <style id="default-textfield-cursor-panel">
    <attributes childLayout="absolute" />
  </style>

  <style id="default-textfield-cursor">
    <attributes filename="textfield/cursor-empty.png" />
		<effect>
		  <onActive name="ImageOverlayPulsate" period="300" timeType="infinite" pulsatechildLayout="rectangle" filename="textfield/cursor.png" post="true"/>
		</effect>
  </style>
  
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <!-- textfield control -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->  
  <controlDefinition name="textfield" controller="de.lessvoid.nifty.controls.textfield.TextFieldControl" inputMapping="de.lessvoid.nifty.input.mapping.StandardTextField">
    <panel id="textfield-panel" style="default-textfield-panel">
      <panel id="textfield-field" style="default-textfield-field">
        <interact onClick="onClick()" onClickMouseMove="onClickMouseMove()" />
        <text id="textfield-text" style="default-textfield-text" text="">
          <textSelection textColor="#f0ff" />
        </text>
      </panel>
      <panel id="textfield-cursor-panel" style="default-textfield-cursor-panel">
        <image id="textfield-cursor" style="default-textfield-cursor"/>
      </panel>
    </panel>
  </controlDefinition>

  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <!-- start screen -->
  <!-- +++++++++++++++++++++++++++++++++++++++ -->
  <screen id="start" controller="de.lessvoid.nifty.examples.textfield.TextFieldDemoStartScreen">
    <layer id="layer" childLayout="center">
      <panel childLayout="vertical">
        <panel backgroundColor="#444f" childLayout="vertical" height="84px" width="80%" align="center" valign="center">
          <panel childLayout="horizontal" height="40px">
            <text font="verdana-48-regular.fnt" text="Your Name: " width="200px" align="left" textVAlign="center" textHAlign="left"/>
            <control id="name" name="textfield" />
          </panel>  
          <panel childLayout="horizontal" height="4px">
          </panel>  
          <panel childLayout="horizontal" height="40px">
            <text font="verdana-48-regular.fnt" text="Your Host: " width="200px" align="left" textVAlign="center" textHAlign="left"/>
            <control id="ip" name="textfield" />
          </panel>
        </panel>
        <panel height="50px" />
        <panel backgroundImage="button-red.png" align="center" width="282px" height="50px" childLayout="center" visibleToMouse="true">
         <interact onClick="back()" /> 
          <effect>
            <onStartScreen name="fade" startColor="#fff0" endColor="#ffff" length="500" startDelay="0" inherit="true"/>
            <onEndScreen name="fade" startColor="#ffff" endColor="#fff0" length="500" startDelay="0" inherit="true"/>
            <onHover name="hoverImageOverlay" timeType="infinite" filename="button-red-hover.png" post="true"/>
          </effect>
          <text font="verdana-48-regular.fnt" text="Back to Menu" align="center" valign="center" textHAlign="center" textVAlign="center">
          </text>
        </panel>
      </panel>
    </layer>
  </screen>
</nifty>
